<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>Points on a map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
    <style>
		body {
			margin: 0;
			padding: 0;
		}

		#map {
			position: absolute;
			top: 0;
			bottom: 0;
			width: 100%;
		}
		.marker-restaurant {
			background-image: url('./restaurant-15.svg');
			background-size: cover;
			width: 25px;
			height: 25px;
			/*border-radius: 50%;*/
			cursor: pointer;
		}
    </style>
  </head>
  <body>
    <div id='map'></div>
    <script>

    const restaurantList = [
	  {
	    "name": "Brazil Cafe \u2022 Tri tip Sandwich $8.25 \u2022 Tri tip Plate $9.99 \u2022 Pedro's Favorite Tri tip Sandwich $9.99 \u2022 Pedro's Favorite Tri tip Sandwich $8.99 ",
	    "latitude": 37.86824,
	    "longitude": -122.25806
	  },
	  {
	    "name": "Taco Sinaloa \u2022 Super Burrito $14 \u2022 Burrito Bowl $9 \u2022 Tostada $6 \u2022 Torta $8 \u2022 Quesadilla de Carne $8.50",
	    "latitude": 37.86717,
	    "longitude": -122.25892
	  },
	  {
	    "name": "Imm Thai Street Food \u2022 Pad Thai $10 \u2022 Pad See Ew $10 \u2022 Pad Kee Mao $10 \u2022 Duck Noodle Soup $12 \u2022 Green Curry $11",
	    "latitude": 37.87196,
	    "longitude": -122.27059
	  },
	  {
	    "name": "Gypsy's Trattoria Italiana \u2022 Crazy Alfredo $10.99 \u2022 Melanzana Con Pollo $10.99 \u2022 Godfather's favorite $10.99 \u2022 Funghi $8.49 \u2022 Lasagna $10.99",
	    "latitude": 37.868240,
	    "longitude": -122.258057
	  },
	  {
	    "name": "Fire Wings \u2022 Garlic Noodles (Reg) $4.99 \u2022 Saigon Street Wings (10) $10.99 \u2022 Salt and Pepper Wings (10) $10.99 \u2022 Thai Chili Wings (10) $8.49 \u2022 Boneless Wings (10) $10.99",
	    "latitude": 37.87165,
	    "longitude": -122.26807
	  },
	  {
	    "name": "Super Duper Burger \u2022 Mini Burger $5.75 \u2022 Super Burger $8.25 \u2022 Coffee $2.50 \u2022 Chicken Sandwich $8 ",
	    "latitude": 37.867668,
	    "longitude": -122.258827
	  },
	  {
	    "name": "KoJa Kitchen \u2022 Short Rib Bowl $13.19 \u2022 Beef Koja $10.59 \u2022 Chicken Koja $9.39 \u2022 Braised Pork Koja $10.89",
	    "latitude": 37.8671,
	    "longitude": -122.25869
	  },
	  { 
	    "name": "Mezzo \u2022 Veggie Delight $10.75 \u2022 Veggie Delight $11.20 \u2022 Marinated Tofu Sandwich $10.50 \u2022 Roast Beef Sandwich $10.50",
	    "latitude": 37.866131,
	    "longitude": -122.258698
	  },
	  {
	    "name": "Top Dog \u2022 Top Dog Frankfurter $3.75 \u2022 Top Dog Frankfurter $3.75 \u2022 Bockwurst (German) $3.75 \u2022 Bockwurst (German) $3.75 \u2022 Kielbasa (Polish) $3.75",
	    "latitude": 37.867771,
	    "longitude": -122.257408
	  },
	  {
	    "name": "Chipotle \u2022 Chicken Bowl $7.90 \u2022 Chicken Burrito $7.90 \u2022 Steak Bowl $8.90 \u2022 Veggie Bowl $7.90",
	    "latitude": 37.86838,
	    "longitude": -122.25896
	  },
	  {
	    "name": "Thai Basil \u2022 Green Curry Chicken $7.99 \u2022 Red Curry Chicken $7.99 \u2022 Pad Thai $8.22 \u2022 Pad See-ew Chicken $7.77 \u2022 Tom-Yum (Chicken or Vegetable) $6.40",
	    "latitude": 37.86824,
	    "longitude": -122.25806
	  }
	];


    mapboxgl.accessToken = 'pk.eyJ1Ijoia2VsbHlodWFuZyIsImEiOiJjazI3dnZ6dTExODR2M2NwZWgxOW5maXlrIn0.RtWUeLy_ygw4eXGnty16Tg'; // replace this with your access token
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/kellyhuang/ck27xup9f1skk1cl3upjhckde', // replace this with your style URL
      center: [-122.260881, 37.8709],
      zoom: 15
    });

    const setupPopup = (restaurantName) => {
    	return new mapboxgl.Popup({ offset: 25 })
		.setText(restaurantName);
    }

    // code from the next step will go here
    restaurantList.forEach((location) => {
	  	var el = document.createElement('div');
  		el.className = 'marker-restaurant';
    	new mapboxgl.Marker(el)
		.setLngLat([location.longitude, location.latitude])
		.setPopup(setupPopup(location.name))
		.addTo(map);
    })
    
    </script>
  </body>
</html>